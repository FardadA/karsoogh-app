<!-- index.html -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Karsoogh App</title>

  <script src="https://cdn.tailwindcss.com"></script>
  <link rel="stylesheet" href="css/styles.css" />
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css" />
</head>
<body class="bg-primary text-primary min-h-screen overflow-x-hidden">

  <!-- Header -->
  <header class="bg-secondary sticky top-0 z-40 shadow-md">
    <div class="container mx-auto px-4 py-3 flex items-center justify-between">
      <div class="flex items-center space-x-4">
        <button id="menu-toggle"
                class="hamburger flex flex-col justify-center items-center w-8 h-8 rounded-full hover:bg-gray-700 transition focus:outline-none">
          <span class="line block w-6 h-0.5 bg-white mb-1.5 transition"></span>
          <span class="line block w-6 h-0.5 bg-white mb-1.5 transition"></span>
          <span class="line block w-6 h-0.5 bg-white transition"></span>
        </button>
        <h1 class="text-xl font-bold">
          <span class="text-accent-1">Karsoogh</span><span class="text-accent-2">App</span>
        </h1>
      </div>
    </div>
  </header>

  <!-- Sidebar -->
  <aside id="sidebar"
         class="fixed top-0 left-0 h-full w-64 bg-secondary shadow-lg transform -translate-x-full transition-transform duration-300 z-50">
    <div class="p-4 h-full flex flex-col">
      <div id="user-profile"
           class="flex items-center space-x-3 mb-8 p-3 rounded-lg bg-gray-800">
        <div id="user-avatar"
             class="w-10 h-10 rounded-full bg-gradient-to-r from-accent-1 to-accent-2 flex items-center justify-center">
          <span id="user-initials" class="font-bold text-sm"></span>
        </div>
        <div>
          <p id="profile-name" class="font-medium text-sm">User</p>
          <p id="profile-role" class="text-xs text-secondary">Role: User</p>
        </div>
      </div>

      <nav class="flex-1 overflow-y-auto">
        <ul class="space-y-1">
          <li data-section="dashboard"
              class="nav-item flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-700 transition cursor-pointer text-center justify-center">
            <i class="fas fa-tachometer-alt w-5 text-accent-1"></i>
            <span>Dashboard</span>
          </li>
          <li data-section="groups"
              class="nav-item flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-700 transition cursor-pointer text-center justify-center">
            <i class="fas fa-users w-5 text-accent-2"></i>
            <span>Groups</span>
          </li>
          <li data-section="scan"
              class="nav-item flex items-center space-x-3 p-3 rounded-lg hover:bg-gray-700 transition cursor-pointer text-center justify-center">
            <i class="fas fa-qrcode w-5 text-accent-4"></i>
            <span>Scan Info</span>
          </li>
        </ul>
      </nav>

      <div class="mt-auto">
        <button id="logout"
                class="w-full flex items-center space-x-3 p-3 rounded-lg hover:bg-red-600 transition text-center justify-center">
          <i class="fas fa-sign-out-alt w-5 text-red-400"></i>
          <span class="text-red-400">Logout</span>
        </button>
      </div>
    </div>
  </aside>

  <!-- Overlay -->
  <div id="overlay"
       class="fixed inset-0 bg-black bg-opacity-50 opacity-0 invisible transition-opacity duration-300 z-40"></div>

  <!-- Main Content -->
  <main id="main-content"
        class="relative overflow-hidden container mx-auto px-4 py-6 pt-16 text-center transition-all duration-300">
    <!-- JS will inject sections here -->
  </main>

  <script>
    document.addEventListener('DOMContentLoaded', () => {
      const toggleBtn = document.getElementById('menu-toggle');
      const sidebar   = document.getElementById('sidebar');
      const overlay   = document.getElementById('overlay');

      toggleBtn.addEventListener('click', () => {
        toggleBtn.classList.toggle('active');
        sidebar.classList.toggle('translate-x-0');
        sidebar.classList.toggle('-translate-x-full');
        overlay.classList.toggle('opacity-100');
        overlay.classList.toggle('opacity-0');
        overlay.classList.toggle('invisible');
      });

      overlay.addEventListener('click', () => {
        toggleBtn.classList.remove('active');
        sidebar.classList.add('-translate-x-full');
        sidebar.classList.remove('translate-x-0');
        overlay.classList.add('opacity-0');
        overlay.classList.add('invisible');
        overlay.classList.remove('opacity-100');
      });
    });
  </script>

  <script type="module" src="js/menu.js"></script>
  <script type="module" src="js/dashboard.js"></script>
  <script type="module" src="js/groups.js"></script>
  <script type="module" src="js/scan.js"></script>
  <script type="module" src="js/main.js"></script>
</body>
</html>
